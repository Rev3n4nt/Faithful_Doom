ACTOR Z86Chaingun : Chaingun replaces Chaingun
{
	decal bulletchip
	States
	{
	spawn:
		MGUN a 5
		loop
    Ready:
		CHGG A 1 A_WeaponReady
		Loop
    Deselect:
		CHGG A 1 A_Lower
		Loop
    Select:
		CHGG A 1 A_Raise
		Loop
	Fire:
		CHGG A 1 A_FireCGun
			// tnt1 a 0 A_JumpIf(CallACS("CasingToggle")==0, +2)
			// TNT1 A 0 A_spawnitemex ("bulletcasing", 40, 0, 25, random(0,2), random(4,6), random(3,5), 0)
		CHGG CBD 1
		CHGG A 1 A_FireCGun
			// tnt1 a 0 A_JumpIf(CallACS("CasingToggle")==0, +2)
			// TNT1 A 0 A_spawnitemex ("bulletcasing", 40, 0, 25, random(0,2), random(4,6), random(3,5), 0)
		CHGG CBD 1
		CHGG C 0 A_ReFire
		CHGG A 1 A_Weaponready
		CHGG CC 1 A_Weaponready
		CHGG BBB 1 A_Weaponready
		CHGG DDD 1 A_Weaponready
		Goto Ready
	Flash:
		TNT1 A 0
		TNT1 A 0 A_Jump(128,4)
		CHGF A 1 Bright A_Light1
		CHGF D 1 Bright A_Light2
		TNT1 A 2 A_Light1
		Goto LightDone
		CHGF A 1 Bright A_Light1
		CHGF D 1 Bright A_Light2
		TNT1 A 2 A_Light1
		Goto LightDone
	}
}